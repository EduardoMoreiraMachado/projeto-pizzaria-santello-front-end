<!DOCTYPE html>
<html lang="PT-BR">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../../../assets/css/reset.css">
        <link rel="stylesheet" href="../../../assets/css/style.css">
        <link rel="stylesheet" href="../../../assets/css/home.css">
        <link rel="stylesheet" href="../../../assets/css/info.css">
        <link rel="stylesheet" href="../../../assets/css/pizzasDesconto.css">
        <link rel="stylesheet" href="../../../assets/css/pizzasFavoritas.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Kolker+Brush&family=League+Spartan:wght@200;300;400;500;600;700&family=Montserrat:wght@100;200;300;400;600;700;900&display=swap" rel="stylesheet">
        <script src="../../js/pizzasDesconto.js" defer type="module"></script>
        <script src="../../js/pizzasFavoritas.js" defer type="module"></script>
        <script src="../../js/servicos.js" defer type="module"></script>
        <script src="../../js/contatos.js" defer type="module"></script>
        <script src="https://kit.fontawesome.com/ac5338e93e.js" crossorigin="anonymous"></script>
        <link rel = "shortcut icon" type = "imagem/x-icon" href = "../../../img/forno-de-pedra.png"/>
        <title>Santello</title>
    </head>
    
    <body>
        <header>
            <span class="logo">Santello</span>
            <div class="options__container">
                <a href="" class="option__item">
                    <h1 class="option__text">PROMOÇÕES</h1>
                </a>
                <a href="" class="option__item">
                    <h1 class="option__text">CARDÁPIO</h1>
                </a>
                <a href="" class="option__item">
                    <h1 class="option__text">SERVIÇOS</h1>
                </a>
                <a href="" class="option__item">
                    <h1 class="option__text">CONTATOS</h1>
                </a>
            </div>
        </header>
        <main>
            <div class="home__container">
                <div class="welcome__container">
                    <img class="icon" src="../../../img/forno-de-pedra.png" alt="">
                    <span class="welcome__title">Conheça a Santello</span>
                    <h1 class="welcome__text">NOSSA ESPECIALIDADE É <strong>TE SERVIR</strong></h1>
                </div>
            </div>
            <div class="info__container">
                <div class="info__text">
                    <div class="text__bar"></div>
                    <span class="info__title_text">QUEM SOMOS</span>
                    <div class="text__bar"></div>
                </div>
                <div class="info__items">
                    <div class="info__message">
                        <h1 class="info__text">Nós somos a maior pizzaria de São Paulo!</h1>
                        <div class="info__social">
                            <a href="#">
                                <div class="social-item">
                                    <i id="social-icon" class="fa-brands fa-youtube"></i>
                                </div>
                            </a>
                            <a href="#">
                                <div class="social-item">
                                    <i id="social-icon" class="fa-brands fa-twitter"></i>
                                </div>
                            </a>
                            <a href="#">
                                <div class="social-item">
                                    <i id="social-icon" class="fa-brands fa-instagram"></i>
                                </div>
                            </a>
                            <a href="#">
                                <div class="social-item">
                                    <i id="social-icon" class="fa-brands fa-facebook-f"></i>
                                </div>
                            </a>
                        </div>
                        <h1 class="info__social_message">NOS SIGA NAS REDES SOCIAIS</h1>
                    </div>
                    <div class="info__image">
                        <img src="../../../img/pizza.png" alt="" class="pizza">
                        <img src="../../../img/Ellipse 1.svg" alt="" class="pizza__shadow">
                    </div>
                </div>
            </div>
            <div class="discount_pizzas_container">
                <span class="discount_pizzas_title">OFERTAS</span>
                <p class="discount_pizzas_text">ECONOMIZE FICANDO POR DENTRO DAS NOSSAS PIZZAS EM PROMOÇÃO</p>
                <div class="discount_pizzas" id="discount"></div>
            </div>
            <div class="wave_image"></div>

            <div class="favorite_pizzas_container">
                <div class="favorite_pizzas_icon_container">
                    <div class="favorite_pizzas_icon_bar"></div>
                    <div class="favorite_pizzas_icon">
                        <img src="../../../img/pizza1.png" alt="" class="icon">
                    </div>
                    <div class="favorite_pizzas_icon_bar"></div>
                </div>
                <span class="favorite_pizzas_title">PIZZAS FAVORITAS</span>
                <div class="review">
                    <div class="review__button">
                        <button id="prev" onclick="previousReview()">
                            PREV
                        </button>
                    </div>
                    <div class="favorite_pizzas_cards" id="favorites"></div>
                    <div class="review__button">
                        <button id="next" onclick="nextReview()">
                            NEXT
                        </button>
                    </div>
                </div>
            </div>
        <script>
            const listarPizzasFavoritas = async () => {

                const url = 'http://localhost:1206/v1/pizzasFavoritas'

                const response = await fetch(url)

                const mensagens = await response.json()

                return mensagens

            }

            const favoritePizzasList = async () => {

                const favoritesList = document.getElementById('favorites')

                const favorites = await listarPizzasFavoritas()

                favorites.forEach(element => {

                    const cardFavorite = document.createElement('div')
                    cardFavorite.classList.add('review__items')

                    cardFavorite.innerHTML = `
                        <img src="${element.foto}"/>
                        <h1>${element.nome_produto}</h1>
                        <p>${element.ingredientes}</p>
                        <h1>${element.preco}</h1>
                    `

                    favoritesList.appendChild(cardFavorite)

                })

            }

            async function carousel(review) {
                
                await favoritePizzasList()

                let reviews = document.getElementsByClassName("review__items");
    
                if (review >= reviews.length) {
                    review = 0;
                    rev = 0;
                }

                if (review < 0) {
                    review = reviews.length - 1;
                    rev = reviews.length - 1;
                }

                for (let i = 0; i < reviews.length; i++) {
                    reviews[i].style.display = "none";
                    //reviews[i].parentNode.removeChild(reviews[i])
                }

                for(let i = 0; i < 3; i++) {
                    reviews[review + i].style.display = "flex";
                    reviews[review + i].style.flexDirection = "column";
                }
                
            }

            let rev = 0;
            carousel(rev);
    
            async function previousReview() {
                rev = rev - 1;
                await carousel(rev);
            }
    
            async function nextReview() {
                rev = rev + 2;
                await carousel(rev);
            }
        </script>
            <div class="services_container">
                <span class="services_title">NOSSOS SERVIÇOS</span>
                <div class="services_cards" id="services"></div>
            </div>
            <div class="contacts_container">
                <span class="contacts_title"><strong>Sua opinião significa muito para nós!</strong> Nos conte sua experiência e dê sugestões para melhorias.</span>
                <div class="client_data">
                    <input type="text" placeholder="Nome" id="name" class="insert_input" required>
                    <input type="text" placeholder="Telefone" id="phone" class="insert_input">
                    <input type="text" placeholder="Celular" id="cel" class="insert_input" required>
                    <input type="email" placeholder="E-mail" id="email" class="insert_input" required>
                </div>
                <div class="contact_message">
                    <input type="text" placeholder="Nos envie uma mensagem" id="message" class="insert_message_input" required>
                    <div class="radio_container">
                        <form>
                            <input type="radio" name="option" id="suggestion" class="option_item" value="1">
                            <label for="1">Sugestão</label>
                            <input type="radio" name="option" id="critic" class="option_item" value="2">
                            <label for="2">Crítica</label>
                        </form>
                        <button type="button" class="message_button" id="send">Enviar</button>
                    </div>
                </div>
            </div>
        </main>
        <footer>
            <div class="contacts-container">
                <div class="contact-item">
                    <i class="fa-solid fa-phone"></i>
                    <h1 class="social-text">(11) 4774-4700</h1>
                </div>
                <div class="contact-item">
                    <i class="fa-solid fa-envelope"></i>
                    <h1 class="social-text">santello@gmail.com</h1>
                </div>
                <div class="contact-item">
                    <i class="fa-solid fa-location-dot"></i>
                    <h1 class="social-text">Rua tcc, 211, Centro, SP</h1>
                </div>
            </div>
            <div class="copyright">
                <h1 class="copyright-text">Copyright © 2022 | Santello</h1>
            </div>
            <div class="social-container">
                <a href="#">
                    <div class="social-item">
                        <i id="social-icon" class="fa-brands fa-youtube"></i>
                    </div>
                </a>
                <a href="#">
                    <div class="social-item">
                        <i id="social-icon" class="fa-brands fa-twitter"></i>
                    </div>
                </a>
                <a href="#">
                    <div class="social-item">
                        <i id="social-icon" class="fa-brands fa-instagram"></i>
                    </div>
                </a>
                <a href="#">
                    <div class="social-item">
                        <i id="social-icon" class="fa-brands fa-facebook-f"></i>
                    </div>
                </a>
            </div>
        </footer>
    </body>
</html>